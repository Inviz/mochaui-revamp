<h3>A Word of Warning</h3>

<p>Since the feature set is growing rather rapidly I will probably be rethinking a lot of the code structure, naming, and syntax. Please keep this in mind if you are trying to upgrade from a previous release of Mocha UI.

<p>I would like to develop a core that is modular, light, robust, and easy to modify and extend. At these early stages I encourage early adopters to voice their thoughts on code structure, naming and syntax. What functionality would you like to see in it's own class or implemented as a plugin or module? Do you see something in the code that can be optimized? Do you have ideas on implementing plugins or modules? Let me know.</p>

<p>As the code and feature set becomes more crystallized the documentation will be further developed.</p>

<h3>Aspects of Mocha UI (Subject to Change)</h3>
<ul>
	<li>Desktop. The Desktop is the Mocha UI container. The MochaDesktop class sets global variables for all windows.</li>
	<li>Toolbars - Requires the Desktop</li>
	<li>Workspaces - Requires the Desktop and Toolbars; not yet implemented</li>
	<li>Windows - Requires the Desktop, though considering making it possible to break this dependency</li>
</ul>

<h3>Methods</h3>
<p>
newWindow() - Create a new window<br />
focusWindow() - Focus a window<br />
maximizeWindow() - Maximize a window<br />
minimizeWindow() - Minimize a window<br />
restoreMinimized() - Restore a minimized window<br />
closeWindow() - Close a window<br />
closeAll() - Close all the windows<br />
</p>

<h3>Creating a New Window</h3>

<p><strong>Syntax:</strong></p>
<pre>
document.mochaDesktop.newWindow();
</pre>

<p><strong>Arguments: </strong>Options</p>

<p><strong>Options:</strong></p>
<ul>
	<li>id: (string)</li>
	<li>title: (string)</li>
	<li>loadMethod: (string: 'html', 'xhr', or 'iframe')</li>
	<li>content: (string) used if contentType is set to 'html'</li>
	<li>contentURL: (string) used if contentType is set to 'xhr' or 'iframe'</li>
	<li>modal: (boolean)</li>
	<li>draggable: (boolean)</li>
	<li>resizable: (boolean)</li>
	<li>minimizable: (boolean)</li>
	<li>maximizable: (boolean)</li>
	<li>closable: (boolean)</li>	
	<li>width: (number)</li>
	<li>height: (number)</li>
	<li>scrollbars: (boolean)</li>
	<li>x: (number) If x or y are not set the new window is centered in the browser window.</li>
	<li>y: (number)</li>
	<li>paddingVertical: (number)</li>
	<li>paddingHorizontal: (number)</li>
	<li>bgColor: (string, defaults to '#fff')</li>
</ul>

<p><strong>Events:</strong></p>
<ul>
	<li>onContentLoaded: (function)	Event, fired when content is successfully loaded via xhr</li>
	<li>onFocus: (function) Event, fired when window is focused</li>
	<li>onResize: (function) Event, fired when window is resized</li>	
	<li>onMinimize: (function) Event, fired when window is minimized</li>
	<li>onMaximize: (function) Event, fired when window is maximized</li>
	<li>onClose: (function)	Event, fired just before window is closed</li>
	<li>onCloseComplete: (function)	Event, fired after window is disposed</li>		
</ul>	

<h3>Loading Content with an XMLHttpRequest(XHR)</h3>
<p>For content to load via xhr all the files must be online and in the same domain. If you need to load content from another domain or wish to have it work offline, load the content in a iframe instead of using the xhr option.</p>

<h3>Iframes</h3>
<p>There are at least three ways you can put Iframes in your windows. You can place an iframe in one of your mocha divs in the original index.html. You can use the iframe contentType option, which will place your content in an iframe for you though this gives you the least amount of control over the iframe's properties. You can load a page with an iframe in it into a window using xhr. The later option gives you the most control.</p>

<p>If you use the iframe contentType your iframe will automatically be resized when the window it is in is resized. If you want this same functionality when using one of the other load options simply add class="mochaIframe" to those iframes and they will be resized for you as well.</p>

<h3>Creating a Window Link</h3>

Example HTML:
<pre>
&lt;a id="docsLink" href="pages/docs.html"&gt;Documentation&lt;/a&gt;
</pre>

Example Javascript:
<pre>
	if ($('docsLink')){
		$('docsLink').addEvent('click', function(e){	
			new Event(e).stop();
			document.mochaDesktop.newWindow({
				id: 'docs',
				title: 'Documentation',
				loadMethod: 'xhr',
				contentURL: 'pages/docs.html',
				width: 320,
				height: 320,
				x: 20,
				y: 60
			});
		});
	}
</pre>

<p><strong>Notes:</strong></p>
<p>If you wish to add links in windows that open other windows remember to add events to those links when the windows are created.</p>

<h3>Closing a Window</h3>
<p>Closing a window requires that you know the ID property of the window. Setting the ID is an option when creating a window.</p>

Example Javascript:
<pre>
document.mochaDesktop.closeWindow($('windowID'));
</pre>

<h3>MooCanvas</h3>
<p>Though I have not tried it, some of you may be interested in <a target="_blank" href="http://olmo-maldonado.com/projects/moocanvas/">MooCanvas</a> as an alternative to <a target="_blank" href="http://excanvas.sourceforge.net/">ExplorerCanvas</a>. Mocha UI would require a little bit of extra code to work with MooCanvas. See the MooCanvas page for more information on how it's usage differs from ExplorerCanvas.</p>

<h3>Swiff and SWFobject</h3>
<p>I am using Swiff to load the example YouTube Flash now since Swiff is built into Mootools, but it has some performance issues when resizing, maximizing, and minimizing windows with Flash in them in Opera that SWFobject did not.</p>

<h3>General Issues</h3>
<p>If you have a solution for any of these please let me know.</p>
<ul>
	<li>In the accordian example, the element divs do not have the proper top padding as is defined in the css.</li>
	<li>In IE7, the wrong cursor, an I-bar, is displayed when the cursor is over #mochaPage, the main content area of the web page.</li>
	<li>In the YouTube example, if the window is maximized and the video is playing, when the browser window is resized, the iframe the flash is in does not resize. This works fine however if the video is paused.</li>	
</ul>

<h3>Browser Performance Issues</h3>

<p>Opera 9</p>
<ul>
	<li>Though they don't bleed threw thankfully, you can move the scrollbars on windows that are behind other windows.</li>
	<li>Seems to have issues with Swiff, though you could use SWFobject instead.</li>
</ul>

<p>Mac Firefox 2  - Not fully supported</p>
<ul>
	<li>Has issues with Flash z-index.</li>
</ul>	